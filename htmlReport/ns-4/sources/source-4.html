


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > ManageCalendarsFragmentKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.example.sharedcalendar.ui</a>
</div>

<h1>Coverage Summary for Class: ManageCalendarsFragmentKt (com.example.sharedcalendar.ui)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ManageCalendarsFragmentKt</td>
<td class="coverageStat">
  <span class="percent">
    14.3%
  </span>
  <span class="absValue">
    (1/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    4%
  </span>
  <span class="absValue">
    (5/124)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    19%
  </span>
  <span class="absValue">
    (12/63)
  </span>
</td>
</tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$CalendarListItem$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$CalendarListItem$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$CalendarListItem$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$CalendarListItem$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$CalendarListItem$5</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$DoseFAB$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$DoseFAB$2</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarsAppBar$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarsAppBar$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarsAppBar$3</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$2$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$3$1$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$4</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ManageCalendarScreen$fabVisibility$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$ProfileProperty$2</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$sam$androidx_lifecycle_Observer$0</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarList$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarList$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarList$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarList$2</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarScreen$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">ManageCalendarsFragmentKt$SelectCalendarScreen$3</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    3%
  </span>
  <span class="absValue">
    (1/33)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    2.5%
  </span>
  <span class="absValue">
    (5/200)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    9.7%
  </span>
  <span class="absValue">
    (12/124)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.example.sharedcalendar.ui
&nbsp;
&nbsp;import android.os.Bundle
&nbsp;import android.util.Log
&nbsp;import android.view.LayoutInflater
&nbsp;import android.view.View
&nbsp;import android.view.ViewGroup
&nbsp;import androidx.annotation.StringRes
&nbsp;import androidx.compose.animation.AnimatedVisibility
&nbsp;import androidx.compose.animation.slideInVertically
&nbsp;import androidx.compose.animation.slideOutVertically
&nbsp;import androidx.compose.foundation.clickable
&nbsp;import androidx.compose.foundation.layout.Arrangement
&nbsp;import androidx.compose.foundation.layout.Column
&nbsp;import androidx.compose.foundation.layout.fillMaxSize
&nbsp;import androidx.compose.foundation.layout.height
&nbsp;import androidx.compose.foundation.layout.padding
&nbsp;import androidx.compose.foundation.lazy.LazyColumn
&nbsp;import androidx.compose.material.icons.Icons
&nbsp;import androidx.compose.material.icons.automirrored.filled.ArrowBack
&nbsp;import androidx.compose.material.icons.filled.Add
&nbsp;import androidx.compose.material3.ExperimentalMaterial3Api
&nbsp;import androidx.compose.material3.ExtendedFloatingActionButton
&nbsp;import androidx.compose.material3.FloatingActionButtonDefaults
&nbsp;import androidx.compose.material3.HorizontalDivider
&nbsp;import androidx.compose.material3.Icon
&nbsp;import androidx.compose.material3.IconButton
&nbsp;import androidx.compose.material3.ListItem
&nbsp;import androidx.compose.material3.ListItemDefaults
&nbsp;import androidx.compose.material3.MaterialTheme
&nbsp;import androidx.compose.material3.Scaffold
&nbsp;import androidx.compose.material3.Surface
&nbsp;import androidx.compose.material3.Text
&nbsp;import androidx.compose.material3.TopAppBar
&nbsp;import androidx.compose.material3.TopAppBarDefaults
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.collectAsState
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.runtime.livedata.observeAsState
&nbsp;import androidx.compose.runtime.mutableStateOf
&nbsp;import androidx.compose.runtime.saveable.rememberSaveable
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.graphics.Color
&nbsp;import androidx.compose.ui.graphics.vector.ImageVector
&nbsp;import androidx.compose.ui.platform.ComposeView
&nbsp;import androidx.compose.ui.platform.LocalContext
&nbsp;import androidx.compose.ui.res.stringResource
&nbsp;import androidx.compose.ui.res.vectorResource
&nbsp;import androidx.compose.ui.text.style.TextOverflow
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import androidx.fragment.app.Fragment
&nbsp;import androidx.fragment.app.viewModels
&nbsp;import androidx.lifecycle.ViewModelProvider
&nbsp;import androidx.lifecycle.viewmodel.compose.viewModel
&nbsp;import androidx.navigation.NavController
&nbsp;import androidx.navigation.NavHostController
&nbsp;import androidx.navigation.compose.NavHost
&nbsp;import androidx.navigation.compose.composable
&nbsp;import androidx.navigation.compose.currentBackStackEntryAsState
&nbsp;import androidx.navigation.compose.rememberNavController
&nbsp;import com.example.sharedcalendar.FirebaseViewModel
&nbsp;import com.example.sharedcalendar.HexToJetpackColor
&nbsp;import com.example.sharedcalendar.R
&nbsp;import com.example.sharedcalendar.feature.editcalendar.EditCalendarScreen
&nbsp;import com.example.sharedcalendar.feature.editcalendar.ViewCalendarScreen
&nbsp;import com.example.sharedcalendar.models.Calendar
&nbsp;
&nbsp;enum class ManageCalendarScreens(@StringRes val title: Int) {
&nbsp;    Select(title = R.string.select_calendar_screen),
&nbsp;    Edit(title = R.string.edit_calendar_screen), View(
&nbsp;        title = R.string.view_calendar_screen
&nbsp;    ),
&nbsp;    Create(title = R.string.create_calendar_screen),
&nbsp;}
&nbsp;
&nbsp;class ManageCalendarsFragment : Fragment() {
&nbsp;    private lateinit var firebaseViewModel: FirebaseViewModel
&nbsp;    private val viewModel by viewModels&lt;ManageCalendarsViewModel&gt;()
&nbsp;    override fun onCreate(savedInstanceState: Bundle?) {
&nbsp;        super.onCreate(savedInstanceState)
&nbsp;        firebaseViewModel = ViewModelProvider(requireActivity())[FirebaseViewModel::class.java]
&nbsp;        firebaseViewModel.calendars.observe(requireActivity()) {
&nbsp;            firebaseViewModel.getShares(it)
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    override fun onCreateView(
&nbsp;        inflater: LayoutInflater,
&nbsp;        container: ViewGroup?,
&nbsp;        savedInstanceState: Bundle?
&nbsp;    ): View {
&nbsp;        return ComposeView(requireContext()).apply {
&nbsp;            setContent {
&nbsp;                MaterialTheme {
&nbsp;                    Surface(
&nbsp;                        modifier = Modifier.fillMaxSize(),
&nbsp;                        color = MaterialTheme.colorScheme.background
&nbsp;                    ) {
&nbsp;                        ManageCalendarScreen(
&nbsp;                            firebaseViewModel, viewModel
&nbsp;                        )
&nbsp;
&nbsp;                    }
&nbsp;                }
&nbsp;
&nbsp;            }
&nbsp;        }
&nbsp;//        return super.onCreateView(inflater, container, savedInstanceState)
&nbsp;    }
&nbsp;
&nbsp;    companion object {
&nbsp;        private val TAG: String? = ManageCalendarsFragment::class.java.name
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;
&nbsp;@Composable
<b class="nc">&nbsp;fun DoseFAB(navController: NavController) {</b>
<b class="nc">&nbsp;    ExtendedFloatingActionButton(</b>
&nbsp;        text = { Text(text = &quot;Add Calendar&quot;) },
&nbsp;        icon = {
&nbsp;            Icon(
&nbsp;                imageVector = Icons.Default.Add, contentDescription = &quot;add&quot;
&nbsp;            )
&nbsp;        },
&nbsp;        onClick = {
<b class="nc">&nbsp;            navController.navigate(ManageCalendarScreens.Create.name)</b>
&nbsp;        },
<b class="nc">&nbsp;        elevation = FloatingActionButtonDefaults.elevation(0.dp, 0.dp),</b>
<b class="nc">&nbsp;        containerColor = MaterialTheme.colorScheme.tertiary</b>
&nbsp;    )
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
&nbsp;fun ManageCalendarScreen(
&nbsp;    firebaseViewModel: FirebaseViewModel,
&nbsp;    viewModel: ManageCalendarsViewModel,
<b class="nc">&nbsp;    navController: NavHostController = rememberNavController(),</b>
<b class="nc">&nbsp;) {</b>
&nbsp;    // Get current back stack entry
<b class="nc">&nbsp;    val backStackEntry by navController.currentBackStackEntryAsState()</b>
<b class="nc">&nbsp;    val fabVisibility = rememberSaveable { (mutableStateOf(true)) }</b>
&nbsp;    // Get the name of the current screen
<b class="nc">&nbsp;    val currentScreen = ManageCalendarScreens.valueOf(</b>
<b class="nc">&nbsp;        backStackEntry?.destination?.route ?: ManageCalendarScreens.Select.name</b>
&nbsp;    )
<b class="nc">&nbsp;    Scaffold(</b>
<b class="nc">&nbsp;        containerColor = Color.Transparent,</b>
<b class="nc">&nbsp;        contentColor = MaterialTheme.colorScheme.onBackground,</b>
<b class="nc">&nbsp;        floatingActionButton = {</b>
&nbsp;
<b class="nc">&nbsp;            AnimatedVisibility(visible = fabVisibility.value,</b>
<b class="nc">&nbsp;                enter = slideInVertically(initialOffsetY = { it }),</b>
<b class="nc">&nbsp;                exit = slideOutVertically(targetOffsetY = { it }),</b>
&nbsp;                content = {
&nbsp;//                    DoseFAB(navController, analyticsHelper)
<b class="nc">&nbsp;                })</b>
&nbsp;        },
<b class="nc">&nbsp;        topBar = {</b>
<b class="nc">&nbsp;            ManageCalendarsAppBar(</b>
<b class="nc">&nbsp;                currentScreen = currentScreen,</b>
<b class="nc">&nbsp;                canNavigateBack = navController.previousBackStackEntry != null,</b>
<b class="nc">&nbsp;                navigateUp = { navController.navigateUp() }</b>
<b class="nc">&nbsp;            )</b>
<b class="nc">&nbsp;        }) { innerPadding -&gt;</b>
<b class="nc">&nbsp;        val calendar by viewModel.calendar.collectAsState()</b>
&nbsp;
<b class="nc">&nbsp;        NavHost(</b>
<b class="nc">&nbsp;            navController = navController,</b>
<b class="nc">&nbsp;            startDestination = ManageCalendarScreens.Select.name,</b>
<b class="nc">&nbsp;            modifier = Modifier.padding(innerPadding)</b>
&nbsp;        ) {
<b class="nc">&nbsp;            composable(route = ManageCalendarScreens.Select.name) {</b>
<b class="nc">&nbsp;                SelectCalendarScreen(</b>
<b class="nc">&nbsp;                    modifier = Modifier.fillMaxSize(),</b>
<b class="nc">&nbsp;                    firebaseViewModel = firebaseViewModel,</b>
&nbsp;                    onItemClicked = {
<b class="nc">&nbsp;                        viewModel.setCalendar(it)</b>
<b class="nc">&nbsp;                        navController.navigate(ManageCalendarScreens.View.name)</b>
&nbsp;                    }
&nbsp;                )
&nbsp;            }
<b class="nc">&nbsp;            composable(route = ManageCalendarScreens.View.name) {</b>
<b class="nc">&nbsp;                val context = LocalContext.current</b>
<b class="nc">&nbsp;                ViewCalendarScreen(</b>
<b class="nc">&nbsp;                    modifier = Modifier.fillMaxSize(), calendar = calendar, onEditButtonClicked = {</b>
<b class="nc">&nbsp;                        viewModel.setCalendar(it)</b>
<b class="nc">&nbsp;                        navController.navigate(ManageCalendarScreens.Edit.name)</b>
<b class="nc">&nbsp;                    }, firebaseViewModel</b>
&nbsp;                )
&nbsp;            }
<b class="nc">&nbsp;            composable(route = ManageCalendarScreens.Edit.name) {</b>
<b class="nc">&nbsp;                EditCalendarScreen(modifier = Modifier.fillMaxSize(),</b>
<b class="nc">&nbsp;                    calendar = calendar,</b>
<b class="nc">&nbsp;                    firebaseViewModel,</b>
&nbsp;                    onBackButtonClicked = {
<b class="nc">&nbsp;                        navController.navigateUp()</b>
&nbsp;                    })
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;    }
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;/**
&nbsp; * Composable that displays the topBar and displays back button if back navigation is possible.
&nbsp; */
&nbsp;@OptIn(ExperimentalMaterial3Api::class)
&nbsp;@Composable
&nbsp;fun ManageCalendarsAppBar(
&nbsp;    currentScreen: ManageCalendarScreens,
&nbsp;    canNavigateBack: Boolean,
&nbsp;    navigateUp: () -&gt; Unit,
<b class="nc">&nbsp;    modifier: Modifier = Modifier,</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    TopAppBar(title = { Text(stringResource(currentScreen.title)) },</b>
<b class="nc">&nbsp;        colors = TopAppBarDefaults.mediumTopAppBarColors(</b>
<b class="nc">&nbsp;            containerColor = MaterialTheme.colorScheme.primaryContainer</b>
&nbsp;        ),
<b class="nc">&nbsp;        modifier = modifier,</b>
<b class="nc">&nbsp;        navigationIcon = {</b>
<b class="nc">&nbsp;            if (canNavigateBack) {</b>
<b class="nc">&nbsp;                IconButton(onClick = navigateUp) {</b>
&nbsp;                    Icon(
&nbsp;                        imageVector = Icons.AutoMirrored.Filled.ArrowBack,
&nbsp;                        contentDescription = &quot;Back Button&quot;
&nbsp;                    )
&nbsp;                }
<b class="nc">&nbsp;            }</b>
&nbsp;        })
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
<b class="pc">&nbsp;fun ProfileProperty(label: String, value: String) {</b>
<b class="fc">&nbsp;    Column {</b>
<b class="fc">&nbsp;        HorizontalDivider(modifier = Modifier.padding(bottom = 4.dp))</b>
<b class="fc">&nbsp;        Text(</b>
<b class="fc">&nbsp;            text = label,</b>
<b class="fc">&nbsp;            modifier = Modifier.height(24.dp),</b>
<b class="fc">&nbsp;            style = MaterialTheme.typography.bodyLarge,</b>
&nbsp;        )
<b class="fc">&nbsp;        Text(</b>
<b class="fc">&nbsp;            text = value,</b>
<b class="fc">&nbsp;            modifier = Modifier.height(24.dp),</b>
<b class="fc">&nbsp;            style = MaterialTheme.typography.bodyMedium, overflow = TextOverflow.Visible</b>
&nbsp;        )
<b class="fc">&nbsp;    }</b>
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;
&nbsp;@Composable
&nbsp;fun CalendarListItem(
&nbsp;    calendar: Calendar,
<b class="nc">&nbsp;    onItemClicked: (calendar: Calendar) -&gt; Unit = {</b>
<b class="nc">&nbsp;        ManageCalendarsViewModel().setCalendar(</b>
<b class="nc">&nbsp;            calendar</b>
&nbsp;        )
&nbsp;    },
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    ListItem(</b>
<b class="nc">&nbsp;        headlineContent = {</b>
<b class="nc">&nbsp;            Text(</b>
<b class="nc">&nbsp;                text = calendar.name,</b>
<b class="nc">&nbsp;                modifier = Modifier.padding(horizontal = 16.dp),</b>
&nbsp;//                style = MaterialTheme.typography.bodyLarge
<b class="nc">&nbsp;            )</b>
&nbsp;        },
<b class="nc">&nbsp;        leadingContent = {</b>
<b class="nc">&nbsp;            Icon(ImageVector.vectorResource(R.drawable.ic_baseline_circle_24),</b>
<b class="nc">&nbsp;                contentDescription = null,</b>
<b class="nc">&nbsp;                tint = calendar.color?.let { HexToJetpackColor.getColor(it) } ?: Color.Gray)</b>
&nbsp;        },
<b class="nc">&nbsp;        modifier = Modifier.clickable { onItemClicked(calendar) },</b>
<b class="nc">&nbsp;        colors = ListItemDefaults.colors(containerColor = Color.Transparent),</b>
&nbsp;    )
<b class="nc">&nbsp;    HorizontalDivider()</b>
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
&nbsp;fun SelectCalendarList(
&nbsp;    calendars: List&lt;Calendar&gt;, onItemClicked: (calendar: Calendar) -&gt; Unit, modifier: Modifier
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    LazyColumn(</b>
<b class="nc">&nbsp;        modifier = modifier, verticalArrangement = Arrangement.spacedBy(8.dp)</b>
&nbsp;    ) {
<b class="nc">&nbsp;        items(</b>
<b class="nc">&nbsp;            count = calendars.count(), key = { i -&gt; calendars[i].id!! },</b>
<b class="nc">&nbsp;        ) { i -&gt;</b>
<b class="nc">&nbsp;            CalendarListItem(calendars[i], onItemClicked)</b>
&nbsp;        }
&nbsp;    }
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
&nbsp;fun SelectCalendarScreen(
<b class="nc">&nbsp;    modifier: Modifier = Modifier,</b>
<b class="nc">&nbsp;    firebaseViewModel: FirebaseViewModel = viewModel(),</b>
<b class="nc">&nbsp;    onItemClicked: (calendar: Calendar) -&gt; Unit = { },</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    val calendars = firebaseViewModel.calendars.observeAsState()</b>
&nbsp;    // API call
&nbsp;//    LaunchedEffect(key1 = Unit) {
&nbsp;//        firebaseViewModel.getCalendars()
&nbsp;////        firebaseViewModel.userShares.observe() {
&nbsp;////            firebaseViewModel.getCalendars()
&nbsp;////        }
&nbsp;//    }
&nbsp;//    val calendars = firebaseViewModel.getStaticCalendars()
&nbsp;
<b class="nc">&nbsp;    Log.i(&quot;Calendar List&quot;, calendars.toString())</b>
&nbsp;
<b class="nc">&nbsp;    calendars.value?.let {</b>
<b class="nc">&nbsp;        SelectCalendarList(</b>
<b class="nc">&nbsp;            calendars = it.toList(), onItemClicked = onItemClicked, modifier = modifier</b>
&nbsp;        )
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;}</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-05-12 02:48</div>
</div>
</body>
</html>
